# New Kids On The Function Block

During its main entry point function, each AEIO plug-in must fill in an AEIO_FunctionBlock, providing pointers to the functions After Effects will call for different file-related tasks.

The table below shows which functions are needed for input, and which ones are needed for output. For a bare-bones implementation, start with the functions that are noted as "Required" in the right column. You can often invoke "best-case" behavior by having After Effects handle the call for you (by returning `AEIO_Err_USE_DFLT_CALLBACK`).

For a barebones AEIO for video input only, implement the following functions: `AEIO_InitInSpecFromFile` or `AEIO_InitInSpecInteractive` (depending on whether the source is a file or interactively generated), `AEIO_DisposeInSpec`, `AEIO_GetInSpecInfo`, `AEIO_DrawSparseFrame`, `AEIO_CloseSourceFiles`, and `AEIO_InqNextFrameTime` (using `AEIO_Err_USE_DFLT_CALLBACK` is fine).

Starting from the IO sample, it is best to leave the other functions defined too, and fill them in further as needed.

---

## AEIO_FunctionBlock4

| **Function**                  | **Response**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | **I or O?**   | **Required?**                                         |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|-------------------------------------------------------|
| `AEIO_InitInSpecFromFile`     | Given a file path, describe its contents to After Effects in the provided `AEIO_InSpecH`.<br/>Use all appropriate "set" calls from the [AEGP_IOInSuite](#aegp_ioinsuite5)) to do so;<br/>if there is image data, set its depth, dimensions, and alpha interpretation.<br/>If there is audio, describe its channels and sample rate.<br/><br/>The file path is a NULL-terminated UTF-16 string with platform separators.<br/><br/>```default<br/>AEIO_InitInSpecFromFile(<br/>  AEIO_BasicData     *basic_dataP,<br/>  const A_UTF16Char  *file_pathZ,<br/>  AEIO_InSpecH       inH);<br/>```                                                                                                                                                                                                                                                                                                 | Input         | Yes, for file-based media                             |
| `AEIO_InitInSpecInteractive`  | Using some form of user interaction (and not a file path provided by After Effects),<br/>describe the audio and video your generated AEIO_InSpecH contains.<br/><br/>```default<br/>AEIO_InitInSpecInteractive(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Input         | Yes, for interactiv ely generated media               |
| `AEIO_DisposeInSpec`          | Free an `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_DisposeInSpec(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Input         | Yes                                                   |
| `AEIO_FlattenOptions`         | For the given `AEIO_InSpecH`, return a flattened version of the data contained in its options handle.<br/>Obtain the unflattened options handle using `AEGP_GetInSpecOptionsHandle`.<br/><br/>```default<br/>AEIO_FlattenOptions(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  AEIO_Handle     *flat_optionsPH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Input         | No                                                    |
| `AEIO_InflateOptions`         | For the given `AEIO_InSpecH`, create (using `AEGP_SetInSpecOptionsHandle`)<br/>an unflattened version of its flattened option data.<br/><br/>```default<br/>AEIO_InflateOptions(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  AEIO_Handle     flat_optionsH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Input         | No                                                    |
| `AEIO_SynchInSpec`            | `AEIO_Err_USE_DFLT_CALLBACK` allowed.<br/>Inspect the `AEIO_InSpecH`, update its options if necessary), and indicate whether or not you made changes.<br/><br/>```default<br/>AEIO_SynchInSpec(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_Boolean       *changed0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Input         | No                                                    |
| `AEIO_GetActiveExtent`        | `AEIO_Err_USE_DFLT_CALLBACK` allowed.<br/>Populate the provided `A_LRect` with the active extent of the file's pixels at the given time.<br/><br/>```default<br/>AEIO_GetActiveExtent(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  const A_Time    *tr,<br/>  A_LRect         *extent);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Input         | Yes                                                   |
| `AEIO_GetInSpecInfo`          | Provide a few strings in `AEIO_Verbiage` to describe the file, which will appear in the Project panel.<br/>This includes the strings used to describe the file type and subtype (the codec).<br/><br/>```default<br/>AEIO_GetInSpecInfo(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  AEIO_Verbiage   *verbiageP);<br/>```<br/><br/>This function gets called OFTEN; every time we refresh the project panel.<br/>Keep allocations to a minimum.<br/>In the AEIOs that ship with After Effects, we check for a valid `optionsH` (using `AEGP_GetInSpecOptionsHandle`);<br/>if we find one, we use the information from within it. If not, we do nothing.<br/><br/>This is important; if your AEIO handles still images, this function *will* get called for the folder containing the stills.<br/>Hopefully, there won't be an optionsH associated with it (unless you're writing a truly bizarre AEIO). | Input         | Yes                                                   |
| `AEIO_DrawSparseFrame`        | Draw a frame from the `AEIO_InSpecH`.<br/>The `PF_EffectWorld*` contains the width and height to use, but make sure you take the required_region0 into account, if it's not NULL.<br/><br/>```default<br/>AEIO_DrawSparseFrame(<br/>  AEIO_BasicData            *basic_dataP,<br/>  AEIO_InSpecH              inH,<br/>  AEIO_Quality              qual,<br/>  const AEIO_RationalScale  *rs0,<br/>  const A_Time              *tr,<br/>  const A_Time              *duration0,<br/>  const A_Rect               *required_region0,<br/>  PF_EffectWorld            *wP,<br/>  A_long*                   originx,<br/>  A_long*                   originy,<br/>  AEIO_DrawingFlags         *draw_flagsP);<br/>```<br/><br/>NOTE: return data as linear light (1.0), and After Effects<br/>will perform any necessary transformations to bring the footage into the working colorspace.                                           | Input         | Yes                                                   |
| `AEIO_GetDimensions`          | AEIO_Err_USE_DFLT_CALLBACK allowed. Provide the dimensions (and, if necessary, scaling factor) of the video in the AEIO_InSpecH.<br/><br/>```default<br/>AEIO_GetDimensions(<br/>  AEIO_BasicData            *basic_dataP,<br/>  AEIO_InSpecH              inH,<br/>  const AEIO_RationalScale  *rs0,<br/>  A_long                    *width0,<br/>  A_long                    *height0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Input         | No                                                    |
| `AEIO_GetDuration`            | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Provide the duration of an `AEIO_InSpecH`, in seconds.<br/><br/>```default<br/>AEIO_GetDuration(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_Time          *trP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Input         | No                                                    |
| `AEIO_GetTime`                | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Provide the timebase of an `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_GetTime(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_Time          *tr);<br/>```<br/><br/>Here are the values we use internally for common timebases:<br/><br/>29.97 fps: scale = 100; value= 2997;<br/>59.94 fps: scale = 50; value = 2997;<br/>23.976 fps: scale = 125; value = 2997;<br/>30 fps: scale = 1; value = 30;<br/>25 fps: scale = 1; value = 25;                                                                                                                                                                                                                                                                                                                                                                                                                           | Input         | No                                                    |
| `AEIO_GetSound`               | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Provide sound from an `AEIO_InSpecH`, at the quality described.<br/><br/>```default<br/>AEIO_GetSound(<br/>  AEIO_BasicData             *basic_dataP,<br/>  AEIO_InSpecH               inH,<br/>  AEIO_SndQuality            quality,<br/>  const AEIO_InterruptFuncs  *interrupt_funcsP0,<br/>  const A_Time               *startPT,<br/>  const A_Time               *durPT,<br/>  A_u_long                   start_sampLu,<br/>  A_u_long                   num_samplesLu,<br/>  void                       *dataPV);<br/>```<br/><br/>`AEIO_SndQuality` may be:<br/><br/>> - `AEIO_SndQuality_APPROX`, (this quality is used to draw the audio waveform)<br/>> - `AEIO_SndQuality_LO`,<br/>> - `AEIO_SndQuality_HI`                                                                                                                                                                    | Input         | No                                                    |
| `AEIO_InqNextFrameTime`       | `AEIO_Err_USE_DFLT_CALLBACK` allowed.<br/>Provide the time of the next frame (in the source footage's timebase) within the `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_InqNextFrameTime(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  const A_Time    *base_time_tr,<br/>  AEIO_TimeDir    time_dir,<br/>  A_Boolean       *found0,<br/>  A_Time          *key_time_tr0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Input         | Yes                                                   |
| `AEIO_InitOutputSpec`         | `AEIO_Err_USE_DFLT_CALLBACK` allowed.<br/>Perform any initialization necessary for a new `AEIO_OutSpecH`, and indicate whether you made changes.<br/><br/>```default<br/>AEIO_InitOutputSpec(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_Boolean       *user_interacted);<br/>```<br/><br/>NOTE: The first time your AEIO is used, After Effects caches the last-known-good optionsH in its preferences.<br/>When testing this function, [delete your preferences](../intro/debugging-plug-ins.md#deleting-preferences) often.                                                                                                                                                                                                                                                                                                                                             | Output        | Yes                                                   |
| `AEIO_GetFlatOutputOptions`   | Describe (in an `AEIO_Handle`) the output options for an `AEIO_OutSpecH`,<br/>in a disk-safe flat data structure (one that does not reference external memory).<br/>Note that your output options must be cross-platform, so pay attention to byte ordering issues.<br/><br/>```default<br/>AEIO_GetFlatOutputOptions(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  AEIO_Handle     *optionsH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Output        | Yes                                                   |
| `AEIO_DisposeOutputOptions`   | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Free the memory for the output options passed in.<br/><br/>```default<br/>AEIO_DisposeOutputOptions(<br/>  AEIO_BasicData  *basic_dataP,<br/>  void            *optionsPV);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Output        | No                                                    |
| `AEIO_UserOptionsDialog`      | Display an output settings dialog (select TIFF output within After Effects to see when this dialog will occur).<br/>Store this information in an options handle using `AEGP_SetInSpecOptionsHandle`.<br/><br/>```default<br/>AEIO_UserOptionsDialog(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  PF_EffectWorld  *sample0,<br/>  A_Boolean       *interacted0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Output        | No                                                    |
| `AEIO_GetOutputInfo`          | Describe (in text) the output options in an `AEIO_OutSpecH`.<br/><br/>```default<br/>AEIO_GetOutputInfo(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  AEIO_Verbiage   *verbiage);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |               |                                                       |
| `AEIO_OutputInfoChanged`      | Update the `AEIO_OutSpecH` based on the current settings (using the various Get functions to obtain them).<br/><br/>```default<br/>AEIO_OutputInfoChanged(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Output        | No                                                    |
| `AEIO_SetOutputFile`          | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Set the file path for output of an `AEIO_OutSpecH`.<br/>Return `AEIO_Err_USE_DEFAULT_CALLBACK` unless you've changed the path.<br/><br/>The file path is a NULL-terminated UTF-16 string with platform separators.<br/><br/>```default<br/>AEIO_SetOutputFile(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_UTF16Char     *file_pathZ);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Output        | Yes                                                   |
| `AEIO_StartAdding`            | Prepare to add frames to the output file.<br/>This is a good time to create the ouput file(s) on disk, and to write any header information to such files.<br/>This is also your first opportunity to allocate pixel buffers based on valid output spec values.<br/><br/>```default<br/>AEIO_StartAdding(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_long          flags);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Output        | Yes, for writing formats that support multiple frames |
| `AEIO_AddFrame`               | Add frame(s) to output file. You may pass a pointer to a function you want called if the user interrupts the render.<br/><br/>```default<br/>AEIO_AddFrame(<br/>  AEIO_BasicData       *basic_dataP,<br/>  AEIO_OutSpecH        outH,<br/>  A_long               frame_index,<br/>  A_long               frames,<br/>  PF_EffectWorld       *wP,<br/>  const A_LPoint       *origin0,<br/>  A_Boolean            was_compressedB,<br/>  AEIO_InterruptFuncs  *inter0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Output        | Yes, for writing formats that support multiple frames |
| `AEIO_EndAdding`              | Perform any clean-up associated with adding frames.<br/><br/>```default<br/>AEIO_EndAdding(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_long          flags);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Output        | Yes, for writing formats that support multiple frames |
| `AEIO_OutputFrame`            | Output a single frame.<br/><br/>```default<br/>AEIO_OutputFrame(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  PF_EffectWorld  *wP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Output        | Yes, for writing formats that support a single frame  |
| `AEIO_WriteLabels`            | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Set alpha interpretation and field usage information for the `AEIO_OutSpecH`.<br/>Indicate in `AEIO_LabelFlags` which flags you wrote.<br/><br/>```default<br/>AEIO_WriteLabels(<br/>  AEIO_BasicData   *basic_dataP,<br/>  AEIO_OutSpecH    outH,<br/>  AEIO_LabelFlags  *written);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Output        | Yes                                                   |
| `AEIO_GetSizes`               | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Provide information about file size and remaining free space on output volume.<br/><br/>```default<br/>AEIO_GetSizes(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_u_longlong    *free_space,<br/>  A_u_longlong    *file_size);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Output        | Yes                                                   |
| `AEIO_Flush`                  | Destroy any options or user data associated with the `OutSpecH`.<br/><br/>```default<br/>AEIO_Flush(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |               |                                                       |
| `AEIO_AddSoundChunk`          | Add the given sound to the output file.<br/><br/>```default<br/>AEIO_AddSoundChunk(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  const A_Time    *start,<br/>  AEIO_SndWorldH  swH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Output        | Yes, for writing formats with audio                   |
| `AEIO_Idle`                   | Optional. Do something with idle time. `AEIO_Err_USE_DFLT_CALLBACK` is not supported.<br/><br/>```default<br/>AEIO_Idle(<br/>  AEIO_BasicData        *basic_dataP,<br/>  AEIO_ModuleSignature  sig,<br/>  AEIO_IdleFlags        *idle_flags0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Output        | No                                                    |
| `AEIO_GetDepths`              | Set `AEIO_OptionsFlags` to indicate which pixel and color depths are valid for your output format.<br/>See the discussion on [Export Bit-Depth](implementation-details.md#implementation-details).<br/><br/>```default<br/>AEIO_GetDepths(<br/>  AEIO_BasicData     *basic_dataP,<br/>  AEIO_OutSpecH      outH,<br/>  AEIO_OptionsFlags  *which);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Output        | Yes                                                   |
| `AEIO_GetOutputSuffix`        | `AEIO_Err_USE_DFLT_CALLBACK` allowed. Describe the three character extension for the output file.<br/><br/>```default<br/>AEIO_GetOutputSuffix(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_char          *suffix);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Output        | Yes                                                   |
| `AEIO_SeqOptionsDlg`          | Display a footage options dialog, and indicate whether the user made any changes.<br/><br/>```default<br/>AEIO_SeqOptionsDlg(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_Boolean       *interactedPB);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Input         | No                                                    |
| `AEIO_GetNumAuxChannels`      | Enumerate the auxiliary (beyond red, green, blue and alpha) channels of data contained in an `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_GetNumAuxChannels(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_long          *num_channelsPL);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Input         | No                                                    |
| `AEIO_GetAuxChannelDesc`      | Describe the data type, name, channel, and dimensionality of an auxiliary data channel.<br/><br/>```default<br/>AEIO_GetAuxChannelDesc(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  long            chan_indexL,<br/>  PF_ChannelDesc  *descP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Input         | No                                                    |
| `AEIO_DrawAuxChannel`         | Draw the auxiliary channel(s) from an `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_DrawAuxChannel(<br/>  AEIO_BasicData          *basic_dataP,<br/>  AEIO_InSpecH            inH,<br/>  A_long                  chan_indexL,<br/>  const AEIO_DrawFramePB  *pbP,<br/>  PF_ChannelChunk         *chunkP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |               |                                                       |
| `AEIO_FreeAuxChannel`         | Free data associated with an auxiliary channel.<br/><br/>```default<br/>AEIO_FreeAuxChannel(<br/>  AEIO_BasicData   *basic_dataP,<br/>  AEIO_InSpecH     inH,<br/>  PF_ChannelChunk  *chunkP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Input         | No                                                    |
| `AEIO_Num` AuxFiles           | Enumerate the files needed to render the given `AEIO_InSpecH`.<br/>This function and `AEIO_GetNthAuxFileSpec` will be called when the user chooses `File > Dependencies > Collect Filesâ€¦`<br/>Here your AEIO tells AE what the associated files are.<br/><br/>```default<br/>AEIO_NumAuxFiles(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    seqH,<br/>  A_long          *files_per_framePL);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Input         | No                                                    |
| `AEIO_GetNthAuxFileSpec`      | Retrieve data from the nth auxiliary file, for the specified frame.<br/>The path is a handle to a NULL-terminated A_UTF16Char string, and must be disposed with `AEGP_FreeMemHandle`.<br/><br/>```default<br/>AEIO_GetNthAuxFileSpec(<br/>  AEIO_BasicData *basic_dataP,<br/>  AEIO_InSpecH   seqH,<br/>  A_long         frame_numL,<br/>  A_long         n,<br/>  AEGP_MemHandle *pathPH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Input         | No, if no aux files                                   |
| `AEIO_CloseSourceFiles`       | Close (or open, depending upon closeB) the source files for an `AEIO_InSpecH`.<br/>When the user Collects Files, the AEIO will first be asked to close its source files, then re-open them.<br/><br/>```default<br/>AEIO_CloseSourceFiles(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    seqH,<br/>  A_Boolean       closeB);<br/>```<br/><br/>`TRUE` for close, `FALSE` for open.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Input         | Yes                                                   |
| `AEIO_CountUserData`          | Enumerate the units of user data associated with the `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_CountUserData(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_u_long        typeLu,<br/>  A_u_long        max_sizeLu,<br/>  A_u_long        *num_of_typePLu);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |               |                                                       |
| `AEIO_SetUserData`            | Set user data (of the given index and type) for the given `AEIO_OutSpecH`.<br/><br/>```default<br/>AEIO_SetUserData(<br/>  AEIO_BasicData     *basic_dataP,<br/>  AEIO_OutSpecH      outH,<br/>  A_u_long           typeLu,<br/>  A_u_long           indexLu,<br/>  const AEIO_Handle  dataH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Output        | No                                                    |
| `AEIO_GetUserData`            | Describe the user data (at the index and of the type given) associated with the `AEIO_InSpecH`.<br/><br/>```default<br/>AEIO_GetUserData(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_InSpecH    inH,<br/>  A_u_long        typeLu,<br/>  A_u_long        indexLu,<br/>  A_u_long        max_sizeLu,<br/>  AEIO_Handle     *dataPH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Input         | No                                                    |
| `AEIO_AddMarker`              | Associate a marker of the specified type, at the specified frame, with the `AEIO_OutSpecH`.<br/>You may provide an interrupt function to handle user cancellation of this action.<br/><br/>```default<br/>AEIO_AddMarker(<br/>  AEIO_BasicData       *basic_dataP,<br/>  AEIO_OutSpecH        outH,<br/>  A_long               frame_index,<br/>  AEIO_MarkerType      marker_type,<br/>  void                 *marker_dataPV,<br/>  AEIO_InterruptFuncs  *inter0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Output        | No                                                    |
| `AEIO_VerifyFileImportable`   | Indicate (by setting importablePB) whether or not the plug-in can import the file.<br/>Note that After Effects has already done basic extension checking; you may wish to open the file and determine whether or not it's valid.<br/>This can be a time-consuming process; most AEIOs that ship with After Effects simply return TRUE,<br/>and deal with bad files during `AEIO_InitInSpecFromFile`.<br/><br/>The file path is a NULL-terminated UTF-16 string with platform separators.<br/><br/>```default<br/>AEIO_VerifyFileImportable(<br/>  AEIO_BasicData        *basic_dataP,<br/>  AEIO_ModuleSignature  sig,<br/>  const A_UTF16Char     *file_pathZ,<br/>  A_Boolean             *importablePB);<br/>```                                                                                                                                                                                                              | Input         | No                                                    |
| `AEIO_UserAudioOptionsDialog` | Display an audio options dialog.<br/><br/>```default<br/>AEIO_UserAudioOptionsDialog(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_Boolean       *interacted0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Output        | No                                                    |
| `AEIO_AddMarker3`             | Add a marker, with a flag specifying whether or not this is a composition marker.<br/><br/>```default<br/>AEIO_AddMarker3(<br/>  AEIO_BasicData         *basic_dataP,<br/>  AEIO_OutSpecH          outH,<br/>  A_long                 frame_index,<br/>  AEGP_ConstMarkerValP   marker_valP,<br/>  AEIO_RenderMarkerFlag  marker_flag,<br/>  AEIO_InterruptFuncs    *inter0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Output        | No                                                    |
| `AEIO_GetMimeType`            | Describe the output mime type. This is used for XMP support.<br/><br/>```default<br/>AEIO_GetMimeType(<br/>  AEIO_BasicData  *basic_dataP,<br/>  AEIO_OutSpecH   outH,<br/>  A_long          mime_type_sizeL,<br/>  char            *mime_typeZ);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Output        | No                                                    |

---

## What Goes In

These functions manage an input specification, After Effects' internal representation of data gathered from any source.

Any image or audio data in After Effects (except solids) is obtained from an input specification handle, or `AEIO_InSpecH`.

### AEGP_IOInSuite5

| **Function**                           | **Purpose**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `AEGP_GetInSpecOptionsHandle`          | Retrieves the options data (created by your AEIO) for the given `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecOptionsHandle(<br/>  AEIO_InSpecH  inH,<br/>  void          **optionsPPV);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `AEGP_SetInSpecOptionsHandle`          | Sets the options data for the given `AEIO_InSpecH`.<br/>Must be allocated using the [Memory Suite](../aegps/aegp-suites.md#aegp_memorysuite1).<br/><br/>```default<br/>AEGP_SetInSpecOptionsHandle(<br/>  AEIO_InSpecH  inH,<br/>  void          *optionsPV,<br/>  void          **old_optionsPPV);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `AEGP_GetInSpecFilePath`               | Retrieves the file path for the `AEIO_InSpecH`.<br/>The file path is a handle to a NULL-terminated A_UTF16Char string, and must be disposed with `AEGP_FreeMemHandle`.<br/><br/>```default<br/>AEGP_GetInSpecFilePath(<br/>  AEIO_InSpecH    inH,<br/>  AEGP_MemHandle  *file_nameZ);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `AEGP_GetInSpecNativeFPS`              | Retrieves the frame rate of the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecNativeFPS(<br/>  AEIO_InSpecH  inH,<br/>  A_Fixed       *native_fpsP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `AEGP_SetInSpecNativeFPS`              | Sets the frame rate of the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecNativeFPS(<br/>  AEIO_InSpecH  inH,<br/>  A_Fixed       native_fpsP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `AEGP_GetInSpecDepth`                  | Retrieves the bit depth of the image data in the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecDepth(<br/>  AEIO_InSpecH  inH,<br/>  A_short       *depthPS);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `AEGP_SetInSpecDepth`                  | Indicates to After Effects the bit depth of the image data in the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecDepth(<br/>  AEIO_InSpecH  inH,<br/>  A_short       depthS);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_GetInSpecSize`                   | Retrieves the size (in bytes) of the data referenced by the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecSize(<br/>  AEIO_InSpecH   inH,<br/>  AEIO_FileSize  *sizePLLu);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `AEGP_SetInSpecSize`                   | Indicates to After Effects the size (in bytes) of the data referenced by the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecSize(<br/>  AEIO_InSpecH   inH,<br/>  AEIO_FileSize  sizeL);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `AEGP_GetInSpecInterlaceLabel`         | Retrieves field information for the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecInterlaceLabel(<br/>  AEIO_InSpecH  inH,<br/>  FIEL_Label    *interlaceP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_SetInSpecInterlaceLabel`         | Specifies field information for the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecInterlaceLabel(<br/>  AEIO_InSpecH      inH,<br/>  const FIEL_Label  *interlaceP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `AEGP_GetInSpecAlphaLabel`             | Retrieves alpha channel interpretation information for the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecAlphaLabel(<br/>  AEIO_InSpecH     inH,<br/>  AEIO_AlphaLabel  *alphaP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `AEGP_SetInSpecAlphaLabel`             | Sets alpha channel interpretation information for the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecAlphaLabel(<br/>  AEIO_InSpecH           inH,<br/>  const AEIO_AlphaLabel* alphaP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `AEGP_GetInSpecDuration`               | Retrieves the duration of the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecDuration(<br/>  AEIO_InSpecH  inH,<br/>  A_Time        *durationP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `AEGP_SetInSpecDuration`               | Sets the duration of the `AEIO_InSpecH`.<br/><br/>NOTE: As of 5.5, this must be called, even for frame-based file formats.<br/>If you don't set the `A_Time.scale` to something other than zero, your file(s) will not import.<br/><br/>This will be fixed in future versions.<br/><br/>```default<br/>AEGP_SetInSpecDuration(<br/>  AEIO_InSpecH  inH,<br/>  const A_Time  *durationP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `AEGP_GetInSpecDimensions`             | Retrieves the width and height of the image data in the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecDimensions(<br/>  AEIO_InSpecH  inH,<br/>  A_long        *widthPL0,<br/>  A_long        *heightPL0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `AEGP_SetInSpecDimensions`             | Indicates to After Effects the width and height of the image data in the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecDimensions(<br/>  AEIO_InSpecH  inH,<br/>  A_long        widthL,<br/>  A_long        heightL);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `AEGP_InSpecGetRational` Dimensions    | Retrieves the width, height, bounding rect, and scaling factor applied to an `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_InSpecGetRationalDimensions(<br/>  AEIO_InSpecH              inH,<br/>  const AEIO_RationalScale  *rs0,<br/>  A_long                    *width0,<br/>  A_long                    *height0,<br/>  A_Rect                    *r0);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `AEGP_GetInSpecHSF`                    | Retrieves the horizontal scaling factor applied to an `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecHSF(<br/>  AEIO_InSpecH  inH,<br/>  A_Ratio       *hsf);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_SetInSpecHSF`                    | Sets the horizontal scaling factor of an `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecHSF(<br/>  AEIO_InSpecH   inH,<br/>  const A_Ratio  *hsf);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `AEGP_GetInSpecSoundRate`              | Obtains the sampling rate (in samples per second) for the audio data referenced by the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecSoundRate(<br/>  AEIO_InSpecH  inH,<br/>  A_FpLong      *ratePF);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `AEGP_SetInSpecSoundRate`              | Sets the sampling rate (in samples per second) for the audio data referenced by the `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecSoundRate(<br/>  AEIO_InSpecH  inH,<br/>  A_FpLong      rateF);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `AEGP_GetInSpecSoundEncoding`          | Obtains the encoding method (signed PCM, unsigned PCM, or floating point) from an AEIO_InSpecH.<br/><br/>```default<br/>AEGP_GetInSpecSoundEncoding(<br/>  AEIO_InSpecH      inH,<br/>  AEIO_SndEncoding  *encodingP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `AEGP_SetInSpecSoundEncoding`          | Sets the encoding method of an AEIO_InSpecH.<br/><br/>```default<br/>AEGP_SetInSpecSoundEncoding(<br/>  AEIO_InSpecH      inH,<br/>  AEIO_SndEncoding  encoding);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `AEGP_GetInSpecSoundSampleSize`        | Retrieves the bytes-per-sample (1,2, or 4) from an `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_GetInSpecSoundSampleSize(<br/>  AEIO_InSpecH        inH,<br/>  AEIO_SndSampleSize  *bytes_per_smpP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_SetInSpecSoundSampleSize`        | Set the bytes per sample of an `AEIO_InSpecH`.<br/><br/>```default<br/>AEGP_SetInSpecSoundSampleSize(<br/>  AEIO_InSpecH        inH,<br/>  AEIO_SndSampleSize  bytes_per_sample);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `AEGP_GetInSpecSoundChannels`          | Determines whether the audio in the `AEIO_SndChannels` is mono or stereo.<br/><br/>```default<br/>AEGP_GetInSpecSoundChannels(<br/>  AEIO_InSpecH      inH,<br/>  AEIO_SndChannels  *num_channelsP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_SetInSpecSoundChannels`          | Sets the audio in an `AEIO_SndChannels` to mono or stereo.<br/><br/>```default<br/>AEGP_SetInSpecSoundChannels(<br/>  AEIO_InSpecH      inH,<br/>  AEIO_SndChannels  num_channels);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `AEGP_AddAuxExtMap`                    | If your file format has auxiliary files which you want to prevent users from opening directly,<br/>pass it's extension, file type and creator to this function to keep it from appearing in input dialogs.<br/><br/>```default<br/>AEGP_AddAuxExtMap(<br/>  const A_char  *extension,<br/>  A_long        file_type,<br/>  A_long        creator);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `AEGP_SetInSpecEmbeddedColorProfile`   | In case of RGB data, if there is an embedded icc profile, build an `AEGP_ColorProfile` out of<br/>this icc profile using `AEGP_GetNewColorProfileFromICCProfile` from [AEGP_ColorSettingsSuite5](../aegps/aegp-suites.md#aegps-aegp-suites-aegp-colorsettingssuite)<br/>and set the profile description set to NULL.<br/><br/>In case of non-RGB data, if there is an embedded non-RGB icc profile or you know the color space the data is in,<br/>set the color profile set to NULL, and provide the description as a NULL-terminated unicode string.<br/>Doing this disables color management UI that allows user to affect profile choice in the application UI.<br/><br/>If you are unpacking non-RGB data directly into working space (to get working space use `AEGP_GetNewWorkingSpaceColorProfile`), you are done.<br/><br/>If you are unpacking non-RGB data into specific RGB color space, you must pass the profile describing this space to `AEGP_SetInSpecAssignedColorProfile` below.<br/>Otherwise, your RGB data will be incorrectly interpreted as being in working space.<br/><br/>Either color profile or profile description should be NULL in this function. You cannot use both.<br/><br/>```default<br/>AEGP_SetInSpecEmbeddedColorProfile(<br/>  AEIO_InSpecH             inH,<br/>  AEGP_ConstColorProfileP  color_profileP0,<br/>  const A_UTF16Char        *profile_descP0);<br/>``` |
| `AEGP_SetInSpecAssignedColorProfile`   | Assign a valid RGB color profile to the footage.<br/><br/>```default<br/>AEGP_SetInSpecAssignedColorProfile(<br/>  AEIO_InSpecH             inH,<br/>  AEGP_ConstColorProfileP  color_profileP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `AEGP_GetInSpecNativeStartTime`        | New in CC. Retrieves the native start time of the footage.<br/><br/>```default<br/>AEGP_GetInSpecNativeStartTime(<br/>  AEIO_InSpecH  inH,<br/>  A_Time        *startTimeP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `AEGP_SetInSpecNativeStartTime`        | New in CC. Assign a native start time to the footage.<br/><br/>```default<br/>AEGP_SetInSpecNativeStartTime(<br/>  AEIO_InSpecH  inH,<br/>  const A_Time  *startTimeP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `AEGP_ClearInSpecNativeStartTime`      | New in CC. Clear the native start time of the footage.<br/>Setting the native start time to 0 using `AEGP_SetInSpecNativeStartTime` doesn't do this.<br/>It still means there is a special native start time provided.<br/><br/>```default<br/>AEGP_ClearInSpecNativeStartTime(<br/>  AEIO_InSpecH  inH);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `AEGP_GetInSpecNativeDisplayDropFrame` | New in CC. Retrieve the drop-frame setting of the footage.<br/><br/>```default<br/>AEGP_GetInSpecNativeDisplayDropFrame(<br/>  AEIO_InSpecH  inH,<br/>  A_Boolean     *displayDropFrameBP);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `AEGP_SetInSpecNativeDisplayDropFrame` | New in CC. Assign the drop-frame setting of the footage.<br/><br/>```default<br/>AEGP_SetInSpecNativeDisplayDropFrame(<br/>  AEIO_InSpecH  inH,<br/>  A_Boolean     displayDropFrameB);<br/>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

---

## What Goes Out

These functions manage all interactions with an output specification in After Effects' render queue.

### AEGPIOOutSuite4

| **Function**                           | **Purpose**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `AEGP_GetOutSpecOptionsHandle`         | Retrieves the Options for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecOptionsHandle(<br/>  AEIO_OutSpecH  outH,<br/>  void           **optionsPPV);<br/>```                                                                                                                                                                                                                                                                                                                                          |
| `AEGP_SetOutSpecOptionsHandle`         | Sets the Options for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecOptionsHandle(<br/>  AEIO_OutSpecH  outH,<br/>  void           *optionsPV,<br/>  void           **old_optionsPPV);<br/>```                                                                                                                                                                                                                                                                                                          |
| `AEGP_GetOutSpecFilePath`              | Obtains the path for the `AEIO_OutSpecH`.<br/>The file path is a handle to a NULL-terminated A_UTF16Char string, and must be disposed with `AEGP_FreeMemHandle`.<br/><br/>If `file_rsrvdPB` returns `TRUE`, the plug-in should not overwrite it<br/>(After Effects has already created an empty file); doing so can cause network renders to fail.<br/><br/>```default<br/>AEGP_GetOutSpecFilePath(<br/>  AEIO_OutSpecH   outH,<br/>  AEGP_MemHandle  *unicode_pathPH,<br/>  A_Boolean       *file_rsrvdPB);<br/>``` |
| `AEGP_GetOutSpecFPS`                   | Obtains the frames per second of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecFPS(<br/>  AEIO_OutSpecH  outH,<br/>  A_Fixed        *native_fpsP);<br/>```                                                                                                                                                                                                                                                                                                                                             |
| `AEGP_SetOutSpecNativeFPS`             | Sets the frames per second of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecNativeFPS(<br/>  AEIO_OutSpecH  outH,<br/>  A_Fixed        native_fpsP);<br/>```                                                                                                                                                                                                                                                                                                                                           |
| `AEGP_GetOutSpecDepth`                 | Obtains the pixel bit depth of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecDepth(<br/>  AEIO_OutSpecH  outH,<br/>  A_short        *depthPS);<br/>```                                                                                                                                                                                                                                                                                                                                                 |
| `AEGP_SetOutSpecDepth`                 | Sets the pixel bit depth of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecDepth(<br/>  AEIO_OutSpecH  outH,<br/>  A_short        depthPS);<br/>```                                                                                                                                                                                                                                                                                                                                                     |
| `AEGP_GetOutSpecInterlaceLabel`        | Obtains field information for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecInterlaceLabel(<br/>  AEIO_OutSpecH  outH,<br/>  FIEL_Label     *interlaceP);<br/>```                                                                                                                                                                                                                                                                                                                                      |
| `AEGP_SetOutSpecInterlaceLabel`        | Set the field information for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecInterlaceLabel(<br/>  AEIO_OutSpecH     outH,<br/>  const FIEL_Label  *interlaceP);<br/>```                                                                                                                                                                                                                                                                                                                                |
| `AEGP_GetOutSpecAlphaLabel`            | Obtains alpha interpretation information for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecAlphaLabel(<br/>  AEIO_OutSpecH    outH,<br/>  AEIO_AlphaLabel  *alphaP);<br/>```                                                                                                                                                                                                                                                                                                                           |
| `AEGP_SetOutSpecAlphaLabel`            | Sets the alpha interpretation for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecAlphaLabel(<br/>  AEIO_OutSpecH          outH,<br/>  const AEIO_AlphaLabel  *alphaP);<br/>```                                                                                                                                                                                                                                                                                                                          |
| `AEGP_GetOutSpecDuration`              | Obtains the duration of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecDuration(<br/>  AEIO_OutSpecH  outH,<br/>  A_Time         *durationP);<br/>```                                                                                                                                                                                                                                                                                                                                                   |
| `AEGP_SetOutSpecDuration`              | Sets the duration of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecDuration(<br/>  AEIO_OutSpecH  outH,<br/>  const A_Time   *durationP);<br/>```                                                                                                                                                                                                                                                                                                                                                      |
| `AEGP_GetOutSpecDimensions`            | Obtains the dimensions of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecDimensions(<br/>  AEIO_OutSpecH  outH,<br/>  A_long         *widthPL0,<br/>  A_long         *heightPL0);<br/>```                                                                                                                                                                                                                                                                                                               |
| `AEGP_GetOutSpecHSF`                   | Obtains the horizontal scaling factor of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecHSF(<br/>  AEIO_OutSpecH  outH,<br/>  A_Ratio        *hsf);<br/>```                                                                                                                                                                                                                                                                                                                                             |
| `AEGP_SetOutSpecHSF`                   | Sets the horizontal scaling factor of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecHSF(<br/>  AEIO_OutSpecH  outH,<br/>  const A_Ratio  *hsf);<br/>```                                                                                                                                                                                                                                                                                                                                                |
| `AEGP_GetOutSpecSoundRate`             | Obtains the sampling rate for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecSoundRate(<br/>  AEIO_OutSpecH  outH,<br/>  A_FpLong       *ratePF);<br/>```                                                                                                                                                                                                                                                                                                                                               |
| `AEGP_SetOutSpecSoundRate`             | Sets the sampling rate for the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecSoundRate(<br/>  AEIO_OutSpecH  outH,<br/>  A_FpLong       rateF);<br/>```                                                                                                                                                                                                                                                                                                                                                    |
| `AEGP_GetOutSpecSoundEncoding`         | Obtains the sound encoding format of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecSoundEncoding(<br/>  AEIO_OutSpecH     outH,<br/>  AEIO_SndEncoding  *encodingP);<br/>```                                                                                                                                                                                                                                                                                                                           |
| `AEGP_SetOutSpecSoundEncoding`         | Sets the sound encoding format of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecSoundEncoding(<br/>  AEIO_OutSpecH     outH,<br/>  AEIO_SndEncoding  encoding);<br/>```                                                                                                                                                                                                                                                                                                                                |
| `AEGP_GetOutSpecSoundSampleSize`       | Obtains the bytes-per-sample of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecSoundSampleSize(<br/>  AEIO_OutSpecH       outH,<br/>  AEIO_SndSampleSize  *bpsP);<br/>```                                                                                                                                                                                                                                                                                                                               |
| `AEGP_SetOutSpecSoundSampleSize`       | Sets the bytes-per-sample of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecSoundSampleSize(<br/>  AEIO_OutSpecH       outH,<br/>  AEIO_SndSampleSize  bpsP);<br/>```                                                                                                                                                                                                                                                                                                                                   |
| `AEGP_GetOutSpecSoundChannels`         | Obtains the number of sounds channels in the  `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecSoundChannels(<br/>  AEIO_OutSpecH     outH,<br/>  AEIO_SndChannels  *channelsP);<br/>```                                                                                                                                                                                                                                                                                                                      |
| `AEGP_SetOutSpecSoundChannels`         | Sets the number of sounds channels in the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_SetOutSpecSoundChannels(<br/>  AEIO_OutSpecH     outH,<br/>  AEIO_SndChannels  channels);<br/>```                                                                                                                                                                                                                                                                                                                            |
| `AEGP_GetOutSpecIsStill`               | Determines whether the `AEIO_OutSpecH` is a still.<br/><br/>```default<br/>AEGP_GetOutSpecIsStill(<br/>  AEIO_OutSpecH  outH,<br/>  A_Boolean      *is_stillPB);<br/>```                                                                                                                                                                                                                                                                                                                                             |
| `AEGP_GetOutSpecPosterTime`            | Obtains the time of the `AEIO_OutSpecH's` poster frame.<br/><br/>```default<br/>AEGP_GetOutSpecPosterTime(<br/>  AEIO_OutSpecH  outH,<br/>  A_Time         *poster_timeP);<br/>```                                                                                                                                                                                                                                                                                                                                   |
| `AEGP_GetOutSpecStartFrame`            | Obtains the time of the first frame in the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecStartFrame(<br/>  AEIO_OutSpecH  outH,<br/>  A_long         *start_frameP);<br/>```                                                                                                                                                                                                                                                                                                                               |
| `AEGP_GetOutSpecPullDown`              | Obtains the pulldown phase of the `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecPullDown(<br/>  AEIO_OutSpecH  outH,<br/>  AEIO_Pulldown  *pulldownP);<br/>```                                                                                                                                                                                                                                                                                                                                             |
| `AEGP_GetOutSpecIsMissing`             | Passes back TRUE if there is no `AEIO_OutSpecH`.<br/><br/>```default<br/>AEGP_GetOutSpecIsMissing(<br/>  AEIO_OutSpecH  outH,<br/>  A_Boolean      *missingPB);<br/>```                                                                                                                                                                                                                                                                                                                                              |
| `AEGP_GetOutSpecShouldEmbedICCProfile` | Returns TRUE if the AEIO should embed a color profile in the output.<br/><br/>```default<br/>AEGP_GetOutSpecShouldEmbedICCProfile(<br/>  AEIO_OutSpecH  outH,<br/>  A_Boolean      *embedPB);<br/>```                                                                                                                                                                                                                                                                                                                |
| `AEGP_GetNewOutSpecColorProfile`       | Returns an (opaque) ICC color profile for embedding in the AEIO's output.<br/>Must be disposed with `AEGP_DisposeColorProfile`.<br/><br/>```default<br/>AEGP_GetNewOutSpecColorProfile(<br/>  AEGP_PluginID       aegp_plugin_id,<br/>  AEIO_OutSpecH       outH,<br/>  AEGP_ColorProfileP  *color_profilePP);<br/>```                                                                                                                                                                                               |
| `AEGP_GetOutSpecOutputModule`          | Returns the `AEGP_RQItemRefH` and `AEGP_OutputModuleRefH` associated with the given `AEIO_OutSpecH`.<br/>Fails if the render queue item is not found, or if `AEIO_OutSpecH` is not a confirmed outH and is a copy,<br/>i.e. if the Output Module settings dialog is open and the user hasn't hit OK.<br/><br/>```default<br/>AEGP_GetOutSpecOutputModule(<br/>  AEIO_OutSpecH          outH,<br/>  AEGP_RQItemRefH        *rq_itemP,<br/>  AEGP_OutputModuleRefH  *om_refP);<br/>```                                 |
